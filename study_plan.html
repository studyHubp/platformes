<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study plans </title>
     
<style>
/* Back Button Styles */
.back-button-container {
    position: relative;
    max-width: 800px;
    margin: 0 auto 20px;
    padding: 0 30px;
}

.back-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10px 20px 10px 15px;
    background: linear-gradient(135deg, #6C63FF, #5549FF);
    color: white;
    text-decoration: none;
    border-radius: 50px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
    border: none;
    cursor: pointer;
    font-size: 15px;
    overflow: hidden;
    position: relative;
    z-index: 1;
}

.back-button i {
    margin-right: 8px;
    transition: transform 0.3s ease;
}

.back-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(108, 99, 255, 0.4);
}

.back-button:hover i {
    transform: translateX(-3px);
}

.back-button:active {
    transform: translateY(0);
}

.back-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #5549FF, #6C63FF);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.back-button:hover::before {
    opacity: 1;
}

/* Reset and base styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

/* Add smooth scrolling to the page */
html {
    scroll-behavior: smooth;
}

body {
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e7eb 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    padding: 20px;
}

.container {
    background-color: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 800px;
    transition: transform 0.3s ease;
}

.container:hover {
    transform: translateY(-5px);
}

h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-size: 2.5em;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.input-container {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.input-container:focus-within {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.main-inputs {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
}

#taskInput {
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
}

#taskDescription {
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
    min-height: 60px;
    resize: vertical;
}

.task-details {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.task-details input,
.task-details select {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
}

.controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
}

.filters {
    display: flex;
    gap: 10px;
    flex: 2;
    min-width: 300px;
}

.filters input,
.filters select,
.sort-controls select {
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
}

.filters input[type="text"] {
    flex: 1;
}

.sort-controls {
    flex: 1;
    min-width: 200px;
}

.sort-controls select {
    width: 100%;
}

.bulk-actions {
    display: flex;
    gap: 10px;
}

button {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.add-btn {
    background: linear-gradient(145deg, #4CAF50, #45a049);
    color: white;
}

.add-btn:hover {
    background: linear-gradient(145deg, #45a049, #4CAF50);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.toggle-all-btn {
    background: linear-gradient(145deg, #2196F3, #1976D2);
    color: white;
}

.toggle-all-btn:hover {
    background: linear-gradient(145deg, #1976D2, #2196F3);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.clear-all-btn {
    background: linear-gradient(145deg, #f44336, #da190b);
    color: white;
}

.clear-all-btn:hover {
    background: linear-gradient(145deg, #da190b, #f44336);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

ul {
    list-style: none;
}

li {
    display: flex;
    padding: 20px;
    background-color: #ffffff;
    margin-bottom: 15px;
    border-radius: 10px;
    transition: all 0.3s ease;
    border-left: 4px solid #ddd;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

li:hover {
    background-color: #f8f9fa;
    transform: translateX(8px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

li.priority-high {
    border-left-color: #f44336;
}

li.priority-medium {
    border-left-color: #ff9800;
}

li.priority-low {
    border-left-color: #4CAF50;
}

li.completed {
    background-color: #e8f5e9;
    opacity: 0.8;
}

li.completed .task-content {
    text-decoration: line-through;
    color: #666;
}

li .task-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

li .task-title {
    font-weight: bold;
    font-size: 16px;
}

li .task-description {
    font-size: 14px;
    color: #666;
    margin-top: 5px;
}

li .task-details {
    font-size: 13px;
    color: #666;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}

li .task-category {
    background-color: #e0e0e0;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
}

li .task-actions {
    display: flex;
    gap: 5px;
}

li button {
    padding: 5px 10px;
    font-size: 12px;
}

/* Add animations for new tasks */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

li {
    animation: slideIn 0.3s ease-out;
}

/* Improve input fields */
input[type="text"],
input[type="date"],
select,
textarea {
    transition: all 0.3s ease;
    border: 2px solid #e0e0e0;
    outline: none;
}

input[type="text"]:focus,
input[type="date"]:focus,
select:focus,
textarea:focus {
    border-color: #2196F3;
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
}

/* Add custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #666;
}

/* Add loading animation for async operations */
@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading {
    position: relative;
    opacity: 0.7;
}

.loading::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid #f3f3f3;
    border-top: 2px solid #3498db;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@media (max-width: 600px) {
    .input-container,
    .controls,
    .filters,
    .sort-controls,
    .bulk-actions {
        flex-direction: column;
    }
    
    .filters input,
    .filters select,
    .sort-controls select,
    .task-details input,
    .task-details select {
        width: 100%;
    }

    li {
        flex-direction: column;
    }

    li .task-actions {
        margin-top: 10px;
    }
}
</style>
</head>
<body>
    <!-- Back Button -->
    <div class="back-button-container">
        <a href="index.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
    </div>
    
    <div class="container">
        <h1>study plans</h1>
        <div class="input-container">
            <div class="main-inputs">
                <input type="text" id="taskInput" placeholder="Task title...">
                <textarea id="taskDescription" placeholder="Add description (optional)"></textarea>
            </div>
            <div class="task-details">
                <input type="date" id="dueDate">
                <select id="priority">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
                <input type="text" id="category" placeholder="Category">
                <button onclick="addTask()" class="add-btn">Add Task</button>
            </div>
        </div>
        <div class="controls">
            <div class="filters">
                <input type="text" id="searchInput" placeholder="Search tasks...">
                <select id="filterPriority">
                    <option value="all">All Priorities</option>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                </select>
                <select id="filterCategory">
                    <option value="all">All Categories</option>
                </select>
            </div>
            <div class="sort-controls">
                <select id="sortBy">
                    <option value="dateAdded">Sort by Date Added</option>
                    <option value="dueDate">Sort by Due Date</option>
                    <option value="priority">Sort by Priority</option>
                </select>
            </div>
            <div class="bulk-actions">
                <button onclick="toggleAllTasks()" class="toggle-all-btn">Toggle All</button>
                <button onclick="clearAllTasks()" class="clear-all-btn">Clear All</button>
            </div>
        </div>
        <ul id="taskList"></ul>
    </div>
    
 
    <script>// Load tasks from localStorage when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadTasks();
            updateCategoryFilter();
        });
        
        // Get DOM elements
        const taskInput = document.getElementById('taskInput');
        const taskDescription = document.getElementById('taskDescription');
        const dueDateInput = document.getElementById('dueDate');
        const prioritySelect = document.getElementById('priority');
        const categoryInput = document.getElementById('category');
        const taskList = document.getElementById('taskList');
        const searchInput = document.getElementById('searchInput');
        const filterPriority = document.getElementById('filterPriority');
        const filterCategory = document.getElementById('filterCategory');
        const sortBy = document.getElementById('sortBy');
        
        // Set today as the minimum date for due date input
        dueDateInput.min = new Date().toISOString().split('T')[0];
        
        // Add event listeners
        taskInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                addTask();
            }
        });
        
        searchInput.addEventListener('input', filterAndSortTasks);
        filterPriority.addEventListener('change', filterAndSortTasks);
        filterCategory.addEventListener('change', filterAndSortTasks);
        sortBy.addEventListener('change', filterAndSortTasks);
        
        function addTask() {
            const taskText = taskInput.value.trim();
            if (taskText === '') return;
        
            // Create new task object
            const task = {
                id: Date.now(),
                text: taskText,
                description: taskDescription.value.trim(),
                completed: false,
                dueDate: dueDateInput.value,
                priority: prioritySelect.value,
                category: categoryInput.value.trim(),
                dateAdded: new Date().toISOString()
            };
        
            // Add task to localStorage
            const tasks = getTasks();
            tasks.push(task);
            saveTasks(tasks);
        
            // Create task element
            createTaskElement(task);
            
            // Clear inputs
            taskInput.value = '';
            taskDescription.value = '';
            dueDateInput.value = '';
            prioritySelect.value = 'low';
            categoryInput.value = '';
        
            // Update category filter options
            updateCategoryFilter();
        }
        
        function createTaskElement(task) {
            const li = document.createElement('li');
            li.classList.add(`priority-${task.priority}`);
            if (task.completed) li.classList.add('completed');
        
            const taskContent = document.createElement('div');
            taskContent.className = 'task-content';
        
            const taskTitle = document.createElement('div');
            taskTitle.className = 'task-title';
            taskTitle.textContent = task.text;
        
            if (task.description) {
                const taskDesc = document.createElement('div');
                taskDesc.className = 'task-description';
                taskDesc.textContent = task.description;
                taskContent.appendChild(taskDesc);
            }
        
            const taskDetails = document.createElement('div');
            taskDetails.className = 'task-details';
            
            // Add due date if exists
            if (task.dueDate) {
                const dueDate = new Date(task.dueDate);
                const formattedDate = dueDate.toLocaleDateString();
                const today = new Date();
                const isPastDue = dueDate < today && !task.completed;
                
                const dateSpan = document.createElement('span');
                dateSpan.innerHTML = `Due: ${formattedDate}`;
                if (isPastDue) dateSpan.style.color = '#f44336';
                taskDetails.appendChild(dateSpan);
            }
        
            // Add priority
            const prioritySpan = document.createElement('span');
            prioritySpan.className = `priority-${task.priority}`;
            prioritySpan.textContent = `${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)} Priority`;
            taskDetails.appendChild(prioritySpan);
        
            // Add category if exists
            if (task.category) {
                const categorySpan = document.createElement('span');
                categorySpan.className = 'task-category';
                categorySpan.textContent = task.category;
                taskDetails.appendChild(categorySpan);
            }
        
            const taskActions = document.createElement('div');
            taskActions.className = 'task-actions';
        
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'Delete';
            deleteBtn.className = 'clear-all-btn';
            deleteBtn.onclick = (e) => {
                e.stopPropagation();
                deleteTask(task.id, li);
            };
        
            taskContent.appendChild(taskTitle);
            taskContent.appendChild(taskDetails);
            li.appendChild(taskContent);
            taskActions.appendChild(deleteBtn);
            li.appendChild(taskActions);
            li.onclick = () => toggleTask(task.id, li);
            taskList.appendChild(li);
        }
        
        function deleteTask(id, element) {
            // Remove from DOM
            element.remove();
        
            // Remove from localStorage
            const tasks = getTasks().filter(task => task.id !== id);
            saveTasks(tasks);
        
            // Update category filter options
            updateCategoryFilter();
        }
        
        function toggleTask(id, element) {
            // Toggle completed class
            element.classList.toggle('completed');
        
            // Update localStorage
            const tasks = getTasks();
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                saveTasks(tasks);
            }
        }
        
        function clearAllTasks() {
            if (confirm('Are you sure you want to delete all tasks?')) {
                taskList.innerHTML = '';
                localStorage.removeItem('tasks');
                updateCategoryFilter();
            }
        }
        
        function toggleAllTasks() {
            const tasks = getTasks();
            const hasIncomplete = tasks.some(task => !task.completed);
            
            tasks.forEach(task => {
                task.completed = hasIncomplete;
            });
            
            saveTasks(tasks);
            filterAndSortTasks();
        }
        
        function filterAndSortTasks() {
            const searchTerm = searchInput.value.toLowerCase();
            const priorityFilter = filterPriority.value;
            const categoryFilter = filterCategory.value;
            const sortByValue = sortBy.value;
        
            let tasks = getTasks();
        
            // Filter tasks
            tasks = tasks.filter(task => {
                const matchesSearch = task.text.toLowerCase().includes(searchTerm) || 
                                    (task.description && task.description.toLowerCase().includes(searchTerm));
                const matchesPriority = priorityFilter === 'all' || task.priority === priorityFilter;
                const matchesCategory = categoryFilter === 'all' || task.category === categoryFilter;
        
                return matchesSearch && matchesPriority && matchesCategory;
            });
        
            // Sort tasks
            tasks.sort((a, b) => {
                switch (sortByValue) {
                    case 'dueDate':
                        if (!a.dueDate) return 1;
                        if (!b.dueDate) return -1;
                        return new Date(a.dueDate) - new Date(b.dueDate);
                    case 'priority':
                        const priorityOrder = { high: 0, medium: 1, low: 2 };
                        return priorityOrder[a.priority] - priorityOrder[b.priority];
                    default: // dateAdded
                        return new Date(b.dateAdded) - new Date(a.dateAdded);
                }
            });
        
            // Update display
            taskList.innerHTML = '';
            tasks.forEach(task => createTaskElement(task));
        }
        
        function updateCategoryFilter() {
            const tasks = getTasks();
            const categories = new Set(tasks.map(task => task.category).filter(Boolean));
            
            // Clear existing options except 'All Categories'
            filterCategory.innerHTML = '<option value="all">All Categories</option>';
            
            // Add new category options
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                filterCategory.appendChild(option);
            });
        }
        
        function getTasks() {
            return JSON.parse(localStorage.getItem('tasks') || '[]');
        }
        
        function saveTasks(tasks) {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }
        
        function loadTasks() {
            const tasks = getTasks();
            tasks.forEach(task => createTaskElement(task));
        }
        </script>
</body>
</html>